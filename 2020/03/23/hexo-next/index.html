<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.0"><link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/hqweay/picbed/master/img/avatar/avatar.png"><link rel="icon" type="image/png" sizes="32x32" href="https://raw.githubusercontent.com/hqweay/picbed/master/img/avatar/avatar.png"><link rel="icon" type="image/png" sizes="16x16" href="https://raw.githubusercontent.com/hqweay/picbed/master/img/avatar/avatar.png"><link rel="mask-icon" href="https://raw.githubusercontent.com/hqweay/picbed/master/img/avatar/avatar.png" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"leay.net",root:"/",scheme:"Gemini",version:"7.7.2",exturl:!1,sidebar:{position:"left",display:"always",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"default"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!0,lazyload:!1,pangu:!1,comments:{style:"buttons",active:"valine",storage:!0,lazyload:!0,nav:{disqus:{text:"Load Disqus",order:-2},valine:{text:"Load Valine",order:-1}},activeClass:"valine"},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!1,async:!0,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="只留必要依赖配置文件 theme&#x2F;_config.yml 中不必要的依赖不要添加。比如对我来说，3D 效果之类的都没必要，所以 three.js、canvas_nest.js 啥的都不必开启。最后用到的有：quicklink：预加载用户视区中的链接pjax：站内页面刷新lazyload：图片懒加载mediumzoom：查看大图quicklink 我没啥感觉；pjax，由于网络原因，我偶尔会觉得浏"><meta property="og:type" content="article"><meta property="og:title" content="尝试折腾了下用 Hexo-Next-Theme 搭建的博客"><meta property="og:url" content="https://leay.net/2020/03/23/hexo-next/index.html"><meta property="og:site_name" content="养恐龙"><meta property="og:description" content="只留必要依赖配置文件 theme&#x2F;_config.yml 中不必要的依赖不要添加。比如对我来说，3D 效果之类的都没必要，所以 three.js、canvas_nest.js 啥的都不必开启。最后用到的有：quicklink：预加载用户视区中的链接pjax：站内页面刷新lazyload：图片懒加载mediumzoom：查看大图quicklink 我没啥感觉；pjax，由于网络原因，我偶尔会觉得浏"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-03-22T16:00:00.000Z"><meta property="article:modified_time" content="2025-01-27T14:02:46.041Z"><meta property="article:author" content="hqweay"><meta property="article:tag" content="配置与操作"><meta property="article:tag" content="Hexo"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://leay.net/2020/03/23/hexo-next/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>尝试折腾了下用 Hexo-Next-Theme 搭建的博客 | 养恐龙</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-9NQ5VKE0K9"></script><script>if(CONFIG.hostname===location.hostname){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-9NQ5VKE0K9")}</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/feed.xml" title="养恐龙" type="application/atom+xml">
</head><body itemscope itemtype="http://schema.org/WebPage"><div class="container"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">养恐龙</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="fa fa-fw fa-user-circle-o"></i>关于</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="site-search"><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></div></header><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://leay.net/2020/03/23/hexo-next/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://raw.githubusercontent.com/hqweay/picbed/master/img/avatar/avatar.png"><meta itemprop="name" content="hqweay"><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="养恐龙"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">尝试折腾了下用 Hexo-Next-Theme 搭建的博客</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-03-23 00:00:00" itemprop="dateCreated datePublished" datetime="2020-03-23T00:00:00+08:00">2020-03-23</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2025-01-27 22:02:46" itemprop="dateModified" datetime="2025-01-27T22:02:46+08:00">2025-01-27</time></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="只留必要依赖"><a class="markdownIt-Anchor" href="#只留必要依赖"></a> 只留必要依赖</h2><p>配置文件 <code>theme/_config.yml</code> 中不必要的依赖不要添加。</p><p>比如对我来说，3D 效果之类的都没必要，所以 <code>three.js</code>、<code>canvas_nest.js</code> 啥的都不必开启。</p><p>最后用到的有：</p><ul><li>quicklink：预加载用户视区中的链接</li><li>pjax：站内页面刷新</li><li>lazyload：图片懒加载</li><li>mediumzoom：查看大图</li></ul><p>quicklink 我没啥感觉；</p><p>pjax，由于网络原因，我偶尔会觉得浏览器（网页）卡死了；</p><p>lazyload 和 mediumzoom 有点效果，不过虽然我这也没几张图就是了……</p><h2 id="能上-cdn-的先上-cdn"><a class="markdownIt-Anchor" href="#能上-cdn-的先上-cdn"></a> 能上 CDN 的先上 CDN</h2><p>前提：我把博客放 Github Pages 的。</p><p>看的这篇文章，尝试了下：<a href="https://chanshiyu.com/#/post/94" target="_blank" rel="noopener">JsDelivr 全站托管</a></p><h3 id="js-css-images"><a class="markdownIt-Anchor" href="#js-css-images"></a> js、css、images</h3><p>在 <code>theme/_config.yml</code> 下修改 <code>Assets</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">css:</span> <span class="string">//cdn.jsdelivr.net/gh/hqweay/hqweay.github.io@master/css</span></span><br><span class="line"><span class="attr">js:</span> <span class="string">//cdn.jsdelivr.net/gh/hqweay/hqweay.github.io@master/js</span></span><br><span class="line"><span class="attr">images:</span> <span class="string">//cdn.jsdelivr.net/gh/hqweay/hqweay.github.io@master/images</span></span><br></pre></td></tr></table></figure><h3 id="avater-favicon"><a class="markdownIt-Anchor" href="#avater-favicon"></a> avater、favicon</h3><p>favicon、avatar 不包含在 images 里，需要单独改下。</p><p>images 仅包含文章引用的本地图片。</p><h3 id="本地搜索"><a class="markdownIt-Anchor" href="#本地搜索"></a> 本地搜索</h3><p>如果开启了本地搜索，加载 <code>search.xml</code> 也不会走 CDN。</p><p>手动改下 <code>js/local-search</code> 里 <code>fetchData</code>。如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">const</span> fetchData = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">-   fetch(CONFIG.root + searchPath)</span><br><span class="line">+   fetch(<span class="string">"https://cdn.jsdelivr.net/gh/hqweay.github.io@master/"</span> + searchPath)</span><br></pre></td></tr></table></figure><p>有变动需求可以将 <code>https://……</code> 这一串配置在 <code>_config.yml</code> 或 <code>theme/_config.yml</code>。</p><h3 id="字体"><a class="markdownIt-Anchor" href="#字体"></a> 字体</h3><p><strong>感觉没必要配置。</strong></p><p>需要的话可以用 <a href="https://sb.sb/blog/css-cdn/" target="_blank" rel="noopener">前端 CDNJS 库及 Google Fonts、Ajax 和 Gravatar 国内加速服务</a> 这位大佬的。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Uri of fonts host, e.g. //fonts.googleapis.com (Default).</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">//fonts.loli.net</span></span><br></pre></td></tr></table></figure><h3 id="各种依赖"><a class="markdownIt-Anchor" href="#各种依赖"></a> 各种依赖</h3><p>在 <code>theme/_config.yml</code> 的 <code>vendors</code> 配置。</p><p>也全用 <code>JsDelivr</code> 的比较好。</p><p>我用到的一些依赖：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主题样式为 minimal 时，显示侧边栏信息会用到。</span></span><br><span class="line"><span class="attr">anime:</span> <span class="string">//cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js</span></span><br><span class="line"><span class="comment"># 图标。（比如侧边栏的 social links）——如果不用 icon，那就不必引……</span></span><br><span class="line"><span class="attr">fontawesome:</span> <span class="string">//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css</span></span><br><span class="line"><span class="attr">pjax:</span> <span class="string">//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js</span></span><br><span class="line"><span class="attr">mediumzoom:</span> <span class="string">//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js</span></span><br><span class="line"><span class="attr">lazyload:</span> <span class="string">//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js</span></span><br><span class="line"><span class="attr">quicklink:</span> <span class="string">//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js</span></span><br></pre></td></tr></table></figure><h3 id="感觉没效果啊cloudflare"><a class="markdownIt-Anchor" href="#感觉没效果啊cloudflare"></a> 【感觉没效果啊】Cloudflare</h3><p>域名通过 Cloudflare 解析，可以设置全站用 Cloudflare 的 CDN。</p><p>我试了下，然后通过 <a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank" rel="noopener">PageSpeed Insights</a> 测试，跑到 99 分了……</p><p>但是感觉没啥用，我使用的网络下，甚至比直接托管到 Github 还慢……（不知道是不是错觉）</p><h3 id="感觉没效果啊netlify"><a class="markdownIt-Anchor" href="#感觉没效果啊netlify"></a> 【感觉没效果啊】Netlify</h3><p>用 Netlify 托管，效果差异也不大。</p><p>PS：Netlify 绑定自己域名时会需要一个 <code>_redirects</code> 文件。把该文件放 <code>source</code> 下，默认还不会上传至仓库，因为 Hexo 把以 <code>_</code> 开头的文件夹和文件忽略了。</p><p>需要在 <code>_config.yml</code> 配置渲染时把该文件包含进来。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Include/Exclude Files/Folders</span></span><br><span class="line"><span class="attr">include:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">"_redirects"</span></span><br></pre></td></tr></table></figure><h3 id="国内托管服务"><a class="markdownIt-Anchor" href="#国内托管服务"></a> 国内托管服务</h3><p>Coding 之类的。</p><p><s>此贴终结……</s></p><h2 id="字体配置"><a class="markdownIt-Anchor" href="#字体配置"></a> 字体配置</h2><p>字体的相关配置见：<a href="/2020/02/14/hexo-next-font/">Hexo Next 主题字体相关配置</a></p><h2 id="归档页做首页"><a class="markdownIt-Anchor" href="#归档页做首页"></a> 归档页做首页</h2><p>把 <code>layout/archive.swig</code> 改为 <code>layout/index.swig</code> 就行了。</p><p>不过注意此时首页的 <code>meta</code> 信息是 <code>archive</code> （归档）……</p><p>要做个清爽合格的首页，可以把原 <code>index.swig</code> 的 <code>meta</code> 信息拷贝到新 <code>index.swig</code> 下。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new index.swig (archive.swig)</span></span><br><span class="line"></span><br><span class="line">- &#123;% block title %&#125;&#123;&#123; __(<span class="string">'title.archive'</span>) &#125;&#125; | &#123;&#123; title &#125;&#125;&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">+ &#123;% block title %&#125;&#123;&#123; title &#125;&#125;&#123;%- <span class="keyword">if</span> theme.index_with_subtitle and subtitle %&#125; - &#123;&#123; subtitle &#125;&#125;&#123;%- endif %&#125;&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><h2 id="静态资源压缩"><a class="markdownIt-Anchor" href="#静态资源压缩"></a> 静态资源压缩</h2><p>用的 <a href="https://github.com/chenzhutian/hexo-all-minifier" target="_blank" rel="noopener">hexo-all-minifier</a> 。</p><h2 id="open-graph"><a class="markdownIt-Anchor" href="#open-graph"></a> Open Graph</h2><p><a href="https://ogp.me/" target="_blank" rel="noopener">The Open Graph protocol</a></p><p>简单来说就是向网页添加一些 <code>meta</code> 标签。类似这样：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">"og:image"</span> <span class="attr">content</span>=<span class="string">"http://ia.media-imdb.com/images/rock.jpg"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>Hexo 提供 <a href="https://hexo.io/docs/helpers.html#open-graph" target="_blank" rel="noopener">open_graph()</a> 可以向网页直接插入 Open Graph 信息。</p><p>遇到个问题，<a href="https://hexo.io/docs/helpers.html#open-graph" target="_blank" rel="noopener">open_graph()</a> 不能给网页设置一个默认的 <code>og:image</code>。</p><p>查看 <code>node_modules/hexo/lib/plugins/helper/open_graph.js</code>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> images = options.image || options.images || page.photos || [];</span><br></pre></td></tr></table></figure><p><code>ol:image</code> 优先从传入参数找，找不到就会用文章内容里的图片，<strong>还没有的话，那就没有了</strong>。</p><p>于是尝试加了个：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> default_image = <span class="string">"https://leay.net/images/avatar"</span>;</span><br><span class="line"><span class="keyword">let</span> images =</span><br><span class="line">  options.image || options.images || page.photos || default_image || [];</span><br></pre></td></tr></table></figure><p>这样，前面都找不到，就会使用我定义的图片，而不是直接没有 <code>ol:image</code> 标签。</p><p>当然，为了维护，可以把默认图片的链接配置到 <code>_config.yml</code> 或 <code>theme/_config.yml</code>。</p><p>PS：我没仔细研究，可能 Open Graph 不建议本来就不带图片的网页在分享时带上一张图片？但做 SEO 往往建议每个页面都带上这些信息……</p><p><code>hexo-next-theme</code> 往网页插入 Open Graph 信息也是用的 <a href="https://hexo.io/docs/helpers.html#open-graph" target="_blank" rel="noopener">open_graph()</a>，所以如果有这个需求得改动 Hexo 的 <code>open_graph.js</code> 。</p><h2 id="其它"><a class="markdownIt-Anchor" href="#其它"></a> 其它</h2><h3 id="hexo-asset-image"><a class="markdownIt-Anchor" href="#hexo-asset-image"></a> hexo-asset-image</h3><p>下午发现自己博客上的本地图片显示出问题了，折腾了下，发现是因为之前开启了 hexo-next-theme 的图片懒加载。</p><p>hexo-next-theme 使用的图片懒加载插件是 <a href="https://github.com/ApoorvSaxena/lozad.js" target="_blank" rel="noopener">lozad.js</a> 。这个插件会将 <code>img</code> 的 <code>src</code> 属性改为 <code>data-src</code>。hexo-asset-image 没有这样的判断，所以不会处理。</p><p>改了下，想提个 PR 来着，发现原插件仓库已经被归档了……</p><p>于是 fork 了一份：<a href="https://github.com/hqweay/hexo-asset-image" target="_blank" rel="noopener">hexo-asset-image</a></p><h2 id="关于本博客的样式"><a class="markdownIt-Anchor" href="#关于本博客的样式"></a> 关于本博客的样式</h2><p>本博客的样式抄袭了 <a href="https://blog.k8s.li/" target="_blank" rel="noopener">木子</a> 和 <a href="https://www.elietio.xyz/" target="_blank" rel="noopener">零の轨迹</a>，两位大佬都公布了自己的源码，分别在 <a href="https://github.com/muzi502/blog" target="_blank" rel="noopener">muzi502/blog</a> 和 <a href="https://github.com/Elietio/Elietio.github.io" target="_blank" rel="noopener">Elietio/Elietio.github.io</a> ，有需要的可以参考。原理就是自定义 <code>custom_file_path</code> ，即 <code>source/_data/**</code> ，通过自定义的 CSS 覆盖默认样式。</p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%93%8D%E4%BD%9C/" rel="tag"># 配置与操作</a> <a href="/tags/Hexo/" rel="tag"># Hexo</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2020/02/14/hexo-next-font/" rel="prev" title="Hexo Next 主题字体相关配置"><i class="fa fa-chevron-left"></i> Hexo Next 主题字体相关配置</a></div><div class="post-nav-item"><a href="/2020/04/13/hexo-douban-getter/" rel="next" title="【更新】Hexo 插件 hexo-douban-getter —— 展示豆瓣数据">【更新】Hexo 插件 hexo-douban-getter —— 展示豆瓣数据 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments" id="valine-comments"></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#只留必要依赖"><span class="nav-text">只留必要依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#能上-cdn-的先上-cdn"><span class="nav-text">能上 CDN 的先上 CDN</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#js-css-images"><span class="nav-text">js、css、images</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#avater-favicon"><span class="nav-text">avater、favicon</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#本地搜索"><span class="nav-text">本地搜索</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字体"><span class="nav-text">字体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#各种依赖"><span class="nav-text">各种依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#感觉没效果啊cloudflare"><span class="nav-text">【感觉没效果啊】Cloudflare</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#感觉没效果啊netlify"><span class="nav-text">【感觉没效果啊】Netlify</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#国内托管服务"><span class="nav-text">国内托管服务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字体配置"><span class="nav-text">字体配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#归档页做首页"><span class="nav-text">归档页做首页</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#静态资源压缩"><span class="nav-text">静态资源压缩</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#open-graph"><span class="nav-text">Open Graph</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其它"><span class="nav-text">其它</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-asset-image"><span class="nav-text">hexo-asset-image</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关于本博客的样式"><span class="nav-text">关于本博客的样式</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="hqweay" src="https://raw.githubusercontent.com/hqweay/picbed/master/img/avatar/avatar.png"><p class="site-author-name" itemprop="name">hqweay</p></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">211</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">37</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/hqweay" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hqweay" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a> </span><span class="links-of-author-item"><a href="https://twitter.com/hqweay" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;hqweay" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i></a> </span><span class="links-of-author-item"><a href="mailto:hqweay@gmail.com" title="E-Mail → mailto:hqweay@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a> </span><span class="links-of-author-item"><a href="/feed.xml" title="RSS → &#x2F;feed.xml"><i class="fa fa-fw fa-rss"></i></a></span></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2017 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">hqweay</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动</div><span class="post-meta-divider">|</span><div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script><script>window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://leay.net/2020/03/23/hexo-next/',]
      });
      });</script><script>NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '7iAyja9cBWOFGUdWkhMEzNgC-gzGzoHsz',
      appKey     : '54zRMCw7Os0qhRKiO6Xd1KK2',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});</script></body></html>